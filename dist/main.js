(()=>{"use strict";function t(r){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(r)}var r,n={cordsToIndex:r=function(t,r){return t+10*(r-1)-1},checkValidPosition:function(t,n,e,o){for(var a=!0,i=0;i<t.length;i+=1)""!==o[r(n,e)+i]&&(a=!1);return a}};const e=function(r){var e;e="player"===r;var o=function(){var r=Array(100).fill(""),e=[],o=n.cordsToIndex,a=n.checkValidPosition;return{board:r,putShip:function(t,n,i,c){var u=o(n,i);if(c&&(u=c),a(t,n,i,r)){for(var d=0;d<t.length;d+=1){r[u+d]=t;var l={position:1+d,cord:u+d};t.index.unshift(l)}return e.unshift(t),!0}return!1},receiveAttack:function(n,e,a){var i=o(n,e);if(a&&(i=a),"object"===t(r[i])){var c=r[i],u=c.index.find((function(t){return t.cord===i}));return c.hit(u.position),r[i]="X",!0}return"X"!==r[i]&&(r[i]="X",!0)},allSunked:function(){for(var t=!0,r=0;r<e.length;r+=1)e[r].isSunk()||(t=!1);return t},shipArray:e}}();return{playerGameboard:o,attack:function(t,r,n){n.playerGameboard.receiveAttack(t,r)&&(e=!1,n.turn=!0)},board:o.board,turn:e,iaAttack:function(t){var r=Math.floor(9*Math.random())+1,n=Math.floor(9*Math.random())+1;t.playerGameboard.receiveAttack(r,n)&&(e=!1,t.turn=!0)}}};var o,a,i=(o=function(t,r){document.querySelector("#".concat(t)).children[r].textContent="X"},a=function(t,r){for(var n=document.querySelector(".".concat("player")).children,e=0;e<t.length;e+=1)n[e+r-1].textContent="O"},{createGameboard:function(t){var r=document.querySelector("main"),n=document.createElement("div");n.classList.add("gameboard"),n.classList.add("player"),r.append(n);for(var e=0;e<t.board.length;e+=1){var o=document.createElement("div");o.classList.add("cell"),n.appendChild(o)}},addHitListener:function(t){for(var r=document.querySelectorAll(".gameboard")[1].children,n=function(n){r[n].addEventListener("click",(function(){!function(t,r){t.receiveAttack(1,1,r),o("ia",r),o("player",t.iaAttack())}(t,n+1)}))},e=0;e<r.length;e+=1)n(e)},addShipListener:function(t,r){for(var n=document.querySelectorAll(".gameboard")[1].children,e=function(e){n[e].addEventListener("click",(function(){!function(t,r,n){t.playerGameboard.putShip(r,1,1,n)&&(a(r,n),console.log(t.playerGameboard.board))}(t,r,e+1)}))},o=0;o<n.length;o+=1)e(o)},printShip:a});!function(){var t=e("player"),r=e("ia");i.createGameboard(t),i.createGameboard(r);var n=function(t){for(var r=[],n=0;n<t;n+=1)r[n]="";var e=function(t){return"X"===t};return{length:t,hit:function(t){r[t-1]="X"},isSunk:function(){return!!r.every(e)},shipBoard:r,index:[]}}(2);i.addShipListener(t,n)}()})();